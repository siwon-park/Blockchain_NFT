# Solidity

### 문자열(string)

> 주의점

솔리디티에서는 문자열을 바로 비교할 수 없다. 따라서 string을 bytes화 해준 다음에 keccak256 함수를 통해 해시화하여 비교를 진행한다.

```solidity
if(keccak256(bytes(countryList[i])) == keccak256(bytes(_search)))
```

<br>

### 맵핑(mapping)

> mapping(키 타입 ⇒ 값 타입) 접근제한자 변수이름

다른 객체 지향 언어의 딕셔너리, 맵과 같은 역할을 하는 자료형

그러나, 매개변수로 받거나, 값으로써 반환할 수 없으며, length 내장함수도 없어 길이를 구할 수도 없다.

그래서 맵핑에 대한 정보를 반환하고자 할 때는, 함수를 만들어서 맵핑 정보를 배열화시켜 반환하는 방식을 사용한다.

<br>

### 배열(array)

> 타입[] 접근제한자 변수명

#### 메서드

- push(): 배열에 값 추가
- pop(): 가장 최근 값을 삭제하며 배열의 길이(length)도 줄어듬 (stack과 유사)
- delete(): 특정 인덱스 값을 지울 수 있고 배열의 길이는 줄지 않음

<br>

### 구조체(struct)

> struct 구조체명 { 타입 변수명, 타입 변수명, ...}

키와 값의 쌍 여러 개를 묶어놓은 형식으로, object와 유사함.

구조체도 일반 변수처럼 매핑과 배열에 넣거나 반환할 수 있다.

원하는 특정 정보들을 묶어서 전달하고 싶을 때 선언하여 활용 가능함

<br>

### 에러 핸들러(error handler)

> 정의된 조건에 부합하지 않으면 에러를 발생 시키는 것을 말함

#### require

특정 조건에 부합하지 않으면 에러를 발생시키고, gas를 환불시켜줌

require = rever + if라고 할 수 있음

<br>

#### assert

gas를 다 소비한 후, 특정한 조건에 부합하지 않으면 에러 발생

주로 코드가 정상적으로 작동하는지 확인하기 위한 테스트 코드에 사용됨

revert나 require가 들어가면 에러가 발생되고 함수가 실행되지 않지만, assert는 가스가 다 소비된 뒤에 체크되는 것이기 때문에 가스의 환불이 불가함

<br>

#### revert

조건 없이 에러를 발생시키고 gas를 환불해줌

주로 if문에서 조건을 만족시키지 않았을 경우 revert를 호출하여 사용함

<br>